(this.webpackJsonpajileassessment=this.webpackJsonpajileassessment||[]).push([[0],{394:function(e,t,a){e.exports=a.p+"static/media/spider-chart.79e04d98.svg"},405:function(e,t,a){e.exports=a(515)},410:function(e,t,a){},411:function(e,t,a){},502:function(e,t,a){},507:function(e,t,a){},513:function(e,t,a){},514:function(e,t,a){},515:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(17),i=a.n(r),l=(a(410),a(47)),s=a(48),c=a(50),u=a(49),m=(a(411),a(30)),d=a(113),p=a(333),h=a(536),f=a(335),g=a(266),v=a(96),b=a(334),E=a(199),y=a(279),O=a.n(y),w=a(276),C=a.n(w),j=a(277),T=a.n(j),N=a(381),S=a.n(N),x=a(33),k=a(278),R=a.n(k),q=a(130),I=a(129),A=a(535),M=Object(I.a)({overrides:{MuiAppBar:{colorPrimary:{backgroundColor:"#3f4d67"}}}}),P=Object(p.a)((function(e){return{grow:{flexGrow:1},title:Object(d.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),inputRoot:{color:"inherit"},inputInput:Object(d.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(d.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(d.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function D(){var e=P(),t=o.a.useState(null),a=Object(m.a)(t,2),n=a[0],r=a[1],i=o.a.useState(null),l=Object(m.a)(i,2),s=l[0],c=l[1],u=Boolean(n),d=Boolean(s),p=function(e){r(e.currentTarget)},y=function(){c(null)},w=function(){r(null),y()},j="primary-search-account-menu",N=o.a.createElement(E.a,{anchorEl:n,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},id:j,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"center"},open:u,onClose:w},o.a.createElement(b.a,{onClick:w},"Profile"),o.a.createElement(b.a,{onClick:w},"My account")),k=o.a.createElement(E.a,{anchorEl:s,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"center"},open:d,onClose:y},o.a.createElement(b.a,null,o.a.createElement(g.a,{color:"inherit"},o.a.createElement(x.b,{to:"/"},o.a.createElement(C.a,{style:{color:q.a[900]}}))),"Home"),o.a.createElement(b.a,null,o.a.createElement(g.a,{color:"inherit","aria-label":"questions","aria-controls":"primary-question-menu","aria-haspopup":"true"},o.a.createElement(x.b,{to:"/questions"},o.a.createElement(T.a,{style:{color:q.a[900]}}))),"Questionnaire"),o.a.createElement(b.a,null,o.a.createElement(g.a,{color:"inherit","aria-label":"survey","aria-controls":"primary-survey-menu","aria-haspopup":"true"},o.a.createElement(x.b,{to:"/survey"},o.a.createElement(R.a,{style:{color:q.a[900]}}))),"Survey"),o.a.createElement(b.a,{onClick:p},o.a.createElement(g.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},o.a.createElement(O.a,null)),"Profile"));return o.a.createElement(A.a,{theme:M},o.a.createElement("div",{className:e.grow},o.a.createElement(h.a,null,o.a.createElement(f.a,null,o.a.createElement(v.a,{component:"span",className:e.title,variant:"h6",noWrap:!0},"Agile Assessment"),o.a.createElement("div",{className:e.grow}),o.a.createElement("div",{className:e.sectionDesktop},o.a.createElement(g.a,null,o.a.createElement(x.b,{to:"/"}," ",o.a.createElement(C.a,{style:{color:q.a[50]}}))),o.a.createElement(g.a,null,o.a.createElement(x.b,{to:"/questions"},o.a.createElement(T.a,{style:{color:q.a[50]}}))),o.a.createElement(g.a,null,o.a.createElement(x.b,{to:"/survey"},o.a.createElement(R.a,{style:{color:q.a[50]}}))),o.a.createElement(g.a,{edge:"end","aria-label":"account of current user","aria-controls":j,"aria-haspopup":"true",onClick:p,color:"inherit"},o.a.createElement(O.a,null))),o.a.createElement("div",{className:e.sectionMobile},o.a.createElement(g.a,{"aria-label":"show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(e){c(e.currentTarget)},color:"inherit"},o.a.createElement(S.a,null))))),k,N))}var B=a(39),Q=a(24),L=a(71),F=a.n(L),G=Object(I.a)({overrides:{MuiPaper:{elevation2:{boxShadow:"none"}}}});function z(e){var t=e.propitems,a=e.onAdd,n=e.onChange,r=o.a.useState(null),i=Object(m.a)(r,2),l=i[0],s=i[1],c=o.a.useState({columns:[{title:"Name",field:"name",render:function(e){return function(e){return e.hasOwnProperty("parentName")?o.a.createElement(x.b,{to:"/trains/".concat(e.parentName,"/").concat(e.name)},e.name):o.a.createElement(x.b,{to:"/trains/".concat(e.name)},e.name)}(e)}},{title:"Description",field:"desc"},{title:"Owner",field:"owner"}]}),u=Object(m.a)(c,2),d=u[0];u[1];function p(e){var t={};return t.trainName=e.name,t.trainDesc=e.desc,t.trainOwner=e.owner,t}return o.a.createElement(A.a,{theme:G},o.a.createElement(F.a,{title:"Trains",columns:d.columns,data:t,parentChildData:function(e,t){return t.find((function(t){return t.id===e.parent_id}))},editable:{onRowAdd:function(e){return new Promise((function(t){setTimeout((function(){t();var n=p(e);a(n)}),600)}))},onRowUpdate:function(e){return new Promise((function(t){setTimeout((function(){t();var a=p(e);a._id=e.id,n(a)}),600)}))},onRowDelete:function(e){console.log(e)}},onRowClick:function(e,t){return s(t.tableData.id)},options:{exportButton:!0,paging:!1,actionsColumnIndex:-1,rowStyle:function(e){return{backgroundColor:l===e.tableData.id?"#EEE":"#FFF"}}}}))}var H=a(397),W=a(169),_=a(548),J=a(389),U=a.n(J),V=Object(I.a)({overrides:{MuiBreadcrumbs:{ol:{margin:"20px",padding:"5px",backgroundColor:"aliceblue"}}}}),$=Object(p.a)((function(e){return{link:{display:"flex"},icon:{marginRight:e.spacing(.5),width:20,height:20}}}));function Z(e){var t=e.bcprops,a=$();return o.a.createElement(A.a,{theme:V},o.a.createElement(_.a,{"aria-label":"breadcrumb"},t.map((function(e){return console.log("Bc is",e),function(e){var t=e.iconval;return e.hasOwnProperty("linkTo")?o.a.createElement(x.b,{to:"".concat(e.linkTo)},o.a.createElement(t,{className:a.icon}),e.name):o.a.createElement(v.a,{component:"span",color:"textPrimary",className:a.link},o.a.createElement(U.a,{className:a.icon}),e.name)}(e)}))))}var Y=a(223),K=a.n(Y),X=a(390),ee=a.n(X),te=Object(I.a)({overrides:{MuiPaper:{elevation2:{boxShadow:"none"}}}});function ae(){var e=Object(Q.f)();console.log("Train name used in param is ",e);var t=o.a.useState({columns:[{title:"Emp Name",field:"empName"},{title:"Emp Id ",field:"empId"},{title:"Emp EmailId",field:"empEmailId"},{title:"Role",field:"roleName"}],associaterows:[]}),a=Object(m.a)(t,2),n=a[0],r=a[1];o.a.useEffect((function(){fetch(window.location.origin+"/rest/associates").then((function(e){return e.json()})).then((function(t){var a=[];for(var o in t)t[o].trainName===e.trainName&&t[o].teamName===e.teamName&&a.push(t[o]);r((function(e){return Object(W.a)(Object(W.a)({},e),{},{associaterows:a})})),console.log("State is  ",n)})).catch(console.log)}),[]);var i=function(){var t=[];return t.push({name:e.trainName,iconval:K.a,linkTo:"/trains"}),t.push({name:e.teamName,iconval:ee.a}),t}();return o.a.createElement("div",null,o.a.createElement(Z,{bcprops:i}),o.a.createElement(A.a,{theme:te},o.a.createElement(F.a,{columns:n.columns,data:n.associaterows,editable:{onRowAdd:function(t){return new Promise((function(a){setTimeout((function(){a(),t.trainName=e.trainName,t.teamName=e.teamName,function(e){console.log("Going to add new associate ",e);var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch(window.location.origin+"/rest/associates",t).then((function(e){return e.json()})).then((function(t){console.log("Post is successfully sent and response is received ",t),r((function(t){return Object(W.a)(Object(W.a)({},t),{},{associaterows:[].concat(Object(H.a)(t.associaterows),[e])})})),console.log("Updated state is ",n)})).catch(console.log)}(t)}),600)}))},onRowUpdate:function(e){console.log(e)},onRowDelete:function(e){console.log(e)}},options:{exportButton:!0,showTitle:!1,paging:!1}})))}a(502);var ne=a(142),oe=a(5),re=a(547),ie=a(541),le=a(261),se=a(546),ce=a(545),ue=a(393),me=a(166),de=a(391),pe=a.n(de),he=a(356),fe=a(537),ge=a(539),ve=a(538),be=a(544);function Ee(e){return o.a.createElement(pe.a,{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]'},o.a.createElement(me.a,e))}var ye=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleCreate=function(e){for(var t={},a=[],o=e.target.taggedTo.options,r=0,i=o.length;r<i;r++)o[r].selected&&a.push(o[r].value);if("Rating"===e.target.qtype.value){var l=[],s=e.target.ratedesc1.value,c=e.target.ratedesc2.value,u=e.target.ratedesc3.value,m=e.target.ratedesc4.value,d=e.target.ratedesc5.value;l.push(s),l.push(c),l.push(u),l.push(m),l.push(d),t.rateDescription=l}t.category=e.target.category.value,t.parentTag=e.target.parentTag.value,t.qtype=e.target.qtype.value,t.taggedTo=a,t.title=e.target.title.value,n.props.onAdd(t),console.log("Successfully updated from Addques"),n.props.handleClose(!0)},n.state={questionitems:[{controlId:"parentTag",label:"Parent Tag",type:"select",options:["Role/Level Based","CeremonyBased"]},{controlId:"taggedTo",label:"Child Tag",type:"select-multiple",options:["Developer","Tester","Manager","ALL"]},{controlId:"category",label:"Category",type:"select",options:["Process","Technical","Security","General"]},{controlId:"title",label:"Question",type:"text",pholder:"Enter the question"},{controlId:"qtype",label:"Question type",type:"select",options:["Rating","Text"]}]},n.getFormItems=n.getFormItems.bind(Object(B.a)(n)),n.handleChange=n.handleChange.bind(Object(B.a)(n)),n.handleCreate=n.handleCreate.bind(Object(B.a)(n)),n}return Object(s.a)(a,[{key:"handleChange",value:function(e){if("Rating"===e.target.value){var t,a=[];for(t=1;t<6;t++)a.push({controlId:"ratedesc"+t,label:"Level "+t+" description",type:"text",pholder:"Description"});this.setState((function(e){return{questionitems:e.questionitems.concat(a)}}))}else if("Text"===e.target.value){a=[];this.setState((function(e){return{questionitems:e.questionitems.concat(a)}}))}}},{key:"getFormItems",value:function(){var e=this;return this.state.questionitems.map((function(t){return"text"===t.type?o.a.createElement(se.a.Group,{as:ce.a,controlId:t.controlId},o.a.createElement(se.a.Label,{column:!0,sm:3},t.label),o.a.createElement(ue.a,{sm:9},o.a.createElement(se.a.Control,{placeholder:t.pholder})),o.a.createElement(se.a.Text,{className:"text-muted"})):"select"===t.type?o.a.createElement(se.a.Group,{as:ce.a,controlId:t.controlId},o.a.createElement(se.a.Label,{column:!0,sm:3},t.label),o.a.createElement(ue.a,{sm:9},o.a.createElement(se.a.Control,{as:"select",onChange:e.handleChange},o.a.createElement("option",{selected:!0,disabled:!0,hidden:!0},"Choose here"),t.options.map((function(e){return o.a.createElement("option",null,e)}))))):"select-multiple"===t.type?o.a.createElement(se.a.Group,{as:ce.a,controlId:t.controlId},o.a.createElement(se.a.Label,{column:!0,sm:3},t.label),o.a.createElement(ue.a,{sm:9},o.a.createElement(se.a.Control,{as:"select",onChange:e.handleChange,multiple:!0},o.a.createElement("option",{selected:!0,disabled:!0,hidden:!0},"Choose here"),t.options.map((function(e){return o.a.createElement("option",null,e)}))))):void 0}))}},{key:"render",value:function(){var e=this.getFormItems();return o.a.createElement(fe.a,{open:this.props.open,onClose:this.props.handleClose,PaperComponent:Ee,"aria-labelledby":"draggable-dialog-title",contentStyle:{width:"100%",maxWidth:"none"}}," ",o.a.createElement(be.a,{style:{cursor:"move"},id:"draggable-dialog-title"},"Add Quetions"),o.a.createElement(ve.a,null,o.a.createElement(se.a,{id:"myform",onSubmit:this.handleCreate},e)),o.a.createElement(ge.a,null,o.a.createElement(he.a,{onClick:this.props.handleClose,color:"primary"},"Cancel"),o.a.createElement(he.a,{color:"primary",type:"submit",Form:"myform"},"Save")))}}]),a}(o.a.Component),Oe=Object(I.a)({overrides:{MuiTableRow:{root:{},head:{borderBottomStyle:"hidden"}},MuiToolbar:{regular:{minHeight:"16px","@media (min-width: 600px)":{minHeight:"0px"},"@media (min-width: 0px) and (orientation: landscape)":{minHeight:"0px"}}},MuiTableCell:{root:{padding:"10px"}},MuiDialog:{paper:{width:"80%"}}}});function we(e){var t=e.rolequestion,a=e.onAdd,n=o.a.useState({columns:[{width:100,title:"S.No",field:"sno",filtering:!1},{width:200,title:"Role",field:"appliedTo"},{title:"Question",field:"question"},{width:200,title:"QuestionType",field:"questionType"}]}),r=Object(m.a)(n,2),i=r[0],l=(r[1],o.a.useState(!1)),s=Object(m.a)(l,2),c=s[0],u=s[1],d=function(){u(!0)},p=function(){u(!1)};var h=function(){var e=[],a=0;for(var n in t){var o={};o.sno=++a,o.appliedTo=t[n].taggedTo,o.question=t[n].title,o.questionType=t[n].qtype,o.appliedTo.length>1&&(o.appliedTo=o.appliedTo.join(" , ")),e.push(o)}return e}();return o.a.createElement(A.a,{theme:Oe},o.a.createElement(F.a,{components:{Actions:function(e){return o.a.createElement("div",null,o.a.createElement(he.a,{color:"primary",type:"button",onClick:d},"Add Question"),o.a.createElement(ye,{open:c,handleClose:p,onAdd:a}))}},title:"Assessment Questions Based on Roles",columns:i.columns,data:h,localization:{body:{addTooltip:"Add Questions"}},options:{filtering:!0,search:!1,paging:!1}}))}var Ce=Object(I.a)({overrides:{MuiTableRow:{root:{},head:{borderBottomStyle:"hidden"}},MuiToolbar:{regular:{minHeight:"16px","@media (min-width: 600px)":{minHeight:"0px"},"@media (min-width: 0px) and (orientation: landscape)":{minHeight:"0px"}}},MuiTableCell:{root:{padding:"10px"}},MuiDialog:{paper:{width:"80%"}}}});function je(e){var t=e.ceremonyquestion,a=e.onAdd,n=o.a.useState({columns:[{width:100,title:"S.No",field:"sno",filtering:!1},{width:200,title:"Ceremony Type",field:"ceremonyType"},{title:"Question",field:"question"},{width:200,title:"QuestionType",field:"questionType"}]}),r=Object(m.a)(n,2),i=r[0],l=(r[1],o.a.useState(!1)),s=Object(m.a)(l,2),c=s[0],u=s[1],d=function(){u(!0)},p=function(){u(!1)};var h=function(){var e=[],a=0;for(var n in t){var o={};o.sno=++a,o.ceremonyType=t[n].taggedTo,o.ceremonyType.length>1&&(o.ceremonyType=o.ceremonyType.join(" , ")),o.question=t[n].title,o.questionType=t[n].qtype,e.push(o)}return e}();return o.a.createElement(A.a,{theme:Ce},o.a.createElement(F.a,{components:{Actions:function(e){return o.a.createElement("div",null,o.a.createElement(he.a,{color:"primary",type:"button",onClick:d},"Add Question"),o.a.createElement(ye,{open:c,handleClose:p,onAdd:a}))}},title:"Assessment Questions Based on Ceremony",columns:i.columns,data:h,localization:{body:{addTooltip:"Add Questions"}},options:{filtering:!0,search:!1,paging:!1}}))}function Te(e){var t=e.children,a=e.value,n=e.index,r=Object(ne.a)(e,["children","value","index"]);return o.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"nav-tabpanel-".concat(n),"aria-labelledby":"nav-tab-".concat(n)},r),a===n&&o.a.createElement(le.a,{p:3},o.a.createElement(v.a,{component:"span"},t)))}var Ne=Object(oe.a)({indicator:{display:"flex",justifyContent:"center",backgroundColor:"transparent",variant:"fullWidth","& > span":{maxWidth:40,width:"100%",backgroundColor:"black"}}})((function(e){return o.a.createElement(re.a,Object.assign({},e,{TabIndicatorProps:{children:o.a.createElement("span",null)}}))})),Se=Object(oe.a)((function(e){return{root:{textTransform:"none",color:"black",fontWeight:e.typography.fontWeightRegular,fontSize:e.typography.pxToRem(15),marginRight:e.spacing(1),"&:focus":{opacity:1}}}}))((function(e){return o.a.createElement(ie.a,Object.assign({disableRipple:!0},e))})),xe=Object(p.a)((function(e){return{root:{flexGrow:1},padding:{padding:e.spacing(3)},tabs:{backgroundColor:"aliceblue"}}}));function ke(e){var t=e.questionItems,a=e.onAdd,n=xe(),r=o.a.useState(0),i=Object(m.a)(r,2),l=i[0],s=i[1];var c=function(){var e=[];for(var a in t){"Role/Level Based"===t[a].parentTag&&e.push(t[a])}return e}(),u=function(){var e=[];for(var a in t){"CeremonyBased"===t[a].parentTag&&e.push(t[a])}return e}();return o.a.createElement("div",{className:n.root},o.a.createElement("div",{className:n.tabs},o.a.createElement(Ne,{value:l,onChange:function(e,t){s(t)},"aria-label":"styled tabs example"},o.a.createElement(Se,{label:"RoleBased"}),o.a.createElement(Se,{label:"CeremonyBased"}))),o.a.createElement(Te,{value:l,index:0},o.a.createElement(we,{rolequestion:c,onAdd:a})),o.a.createElement(Te,{value:l,index:1},o.a.createElement(je,{ceremonyquestion:u,onAdd:a})))}var Re=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={questionitems:[]},n.addQuestionsOnSave=n.addQuestionsOnSave.bind(Object(B.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch(window.location.origin+"/rest/questions").then((function(e){return e.json()})).then((function(t){console.log("question data is ",t),e.setState({questionitems:t})})).catch(console.log)}},{key:"addQuestionsOnSave",value:function(e){var t=this;console.log("Going to update Questions ",e);var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch(window.location.origin+"/rest/questions",a).then((function(e){return e.json()})).then((function(e){console.log("Post is successfully sent and response is received ",e);var a=t.state.questionitems;a.push(e),t.setState({questionitems:a})})).catch(console.log)}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(ke,{questionItems:this.state.questionitems,onAdd:this.addQuestionsOnSave}))}}]),a}(o.a.Component),qe=a(394),Ie=a.n(qe),Ae=Object(I.a)({overrides:{MuiTableRow:{root:{},head:{borderBottomStyle:"hidden"}},MuiToolbar:{regular:{minHeight:"16px","@media (min-width: 600px)":{minHeight:"0px"},"@media (min-width: 0px) and (orientation: landscape)":{minHeight:"0px"}}},MuiTableCell:{root:{padding:"10px"}},MuiDialog:{paper:{width:"80%"}}}});function Me(e){var t=e.eventItems,a=o.a.useState({columns:[{width:100,title:"S.No",field:"sno",filtering:!1},{width:200,title:"Event Name",field:"eventName",render:function(e){return o.a.createElement(x.b,{to:"/survey/".concat(e.eventName)},e.eventName)}},{title:"Status",field:"status"},{title:"Roles",field:"targetRoles"},{width:200,title:"Result",field:"result",render:function(e){return o.a.createElement(g.a,null,o.a.createElement(x.b,{to:"/spidergraph"},o.a.createElement("img",{src:Ie.a,height:25,width:25})))}},{width:200,title:"No. Of Submission",field:"noOfSubmission"}]}),n=Object(m.a)(a,2),r=n[0];n[1],Object(Q.f)();var i=function(){var e=[],a=0;for(var n in t){var o={};o.sno=++a,o.eventName=t[n].eventName,o.targetRoles=t[n].targetedRoles,o.targetRoles.length>1&&(o.targetRoles=o.targetRoles.join(" , ")),o.status="Open",o.noOfSubmission="25",e.push(o)}return e}();return o.a.createElement(A.a,{theme:Ae},o.a.createElement(F.a,{title:"Survey Results",columns:r.columns,data:i,options:{filtering:!0,search:!1,paging:!1}}))}a(507);var Pe=a(395),De=a.n(Pe),Be=Object(I.a)({overrides:{MuiButton:{contained:{color:"white",backgroundColor:"#3f4d67"}}}}),Qe=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleCreate=function(e){for(var t={},a=[],o=e.target.targetedRoles.options,r=0,i=o.length;r<i;r++)o[r].selected&&a.push(o[r].value);t.eventName=e.target.eventName.value,t.surveyType=e.target.surveyType.value,t.targetedRoles=a,n.props.onAdd(t),console.log("Successfully updated from NewSurvey")},n.state={surveyItems:[{controlId:"surveyType",label:"Survey Type",type:"select",options:["Role/Level Based","CeremonyBased"]},{controlId:"targetedRoles",label:"Targeted Roles",type:"select-multiple",options:["Developer","Tester","Manager","ALL"]},{controlId:"eventName",label:"Event Name",type:"text",pholder:"Enter the event name"}]},n.getSurveyFormItems=n.getSurveyFormItems.bind(Object(B.a)(n)),n.handleCreate=n.handleCreate.bind(Object(B.a)(n)),n}return Object(s.a)(a,[{key:"getSurveyFormItems",value:function(){var e=this;return this.state.surveyItems.map((function(t){return"text"===t.type?o.a.createElement(se.a.Group,{as:ce.a,controlId:t.controlId},o.a.createElement(se.a.Label,{column:!0,sm:2},t.label),o.a.createElement(ue.a,{sm:4},o.a.createElement(se.a.Control,{placeholder:t.pholder})),o.a.createElement(se.a.Text,{className:"text-muted"})):"select"===t.type?o.a.createElement(se.a.Group,{as:ce.a,controlId:t.controlId},o.a.createElement(se.a.Label,{column:!0,sm:2},t.label),o.a.createElement(ue.a,{sm:4},o.a.createElement(se.a.Control,{as:"select",onChange:e.handleChange},o.a.createElement("option",{selected:!0,disabled:!0,hidden:!0},"Choose here"),t.options.map((function(e){return o.a.createElement("option",null,e)}))))):"select-multiple"===t.type?o.a.createElement(se.a.Group,{as:ce.a,controlId:t.controlId},o.a.createElement(se.a.Label,{column:!0,sm:2},t.label),o.a.createElement(ue.a,{sm:4},o.a.createElement(se.a.Control,{as:"select",onChange:e.handleChange,multiple:!0},o.a.createElement("option",{selected:!0,disabled:!0,hidden:!0},"Choose here"),t.options.map((function(e){return o.a.createElement("option",null,e)}))))):void 0}))}},{key:"render",value:function(){var e=this.getSurveyFormItems();return o.a.createElement(A.a,{theme:Be},o.a.createElement("div",{className:"mysurveyform"},o.a.createElement(se.a,{id:"myform",onSubmit:this.handleCreate},e,o.a.createElement(le.a,{display:"flex",justifyContent:"center"},o.a.createElement(he.a,{variant:"contained",type:"submit",startIcon:o.a.createElement(De.a,null),Form:"myform"},"Create")))))}}]),a}(o.a.Component);function Le(e){var t=e.children,a=e.value,n=e.index,r=Object(ne.a)(e,["children","value","index"]);return o.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"nav-tabpanel-".concat(n),"aria-labelledby":"nav-tab-".concat(n)},r),a===n&&o.a.createElement(le.a,{p:3},o.a.createElement(v.a,{component:"span"},t)))}var Fe=Object(oe.a)({indicator:{display:"flex",justifyContent:"center",backgroundColor:"transparent",variant:"fullWidth","& > span":{maxWidth:40,width:"100%",backgroundColor:"black"}}})((function(e){return o.a.createElement(re.a,Object.assign({},e,{TabIndicatorProps:{children:o.a.createElement("span",null)}}))})),Ge=Object(oe.a)((function(e){return{root:{textTransform:"none",color:"black",fontWeight:e.typography.fontWeightRegular,fontSize:e.typography.pxToRem(15),marginRight:e.spacing(1),"&:focus":{opacity:1}}}}))((function(e){return o.a.createElement(ie.a,Object.assign({disableRipple:!0},e))})),ze=Object(p.a)((function(e){return{root:{flexGrow:1},padding:{padding:e.spacing(3)},tabs:{backgroundColor:"aliceblue"}}}));function He(e){var t=e.eventItems,a=e.onAdd,n=ze(),r=o.a.useState(0),i=Object(m.a)(r,2),l=i[0],s=i[1];return o.a.createElement("div",{className:n.root},o.a.createElement("div",{className:n.tabs},o.a.createElement(Fe,{value:l,onChange:function(e,t){s(t)},"aria-label":"styled tabs example"},o.a.createElement(Ge,{label:"Survey Result"}),o.a.createElement(Ge,{label:"New Survey"}))),o.a.createElement(Le,{value:l,index:0},o.a.createElement(Me,{eventItems:t})),o.a.createElement(Le,{value:l,index:1},o.a.createElement(Qe,{onAdd:a})))}a(508);var We=a(170);window.$;We.StylesManager.applyTheme("winter"),We.defaultBootstrapCss.navigationButton="btn btn-green";var _e=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={quesitems:[],eventName:""},n.onComplete=n.onComplete.bind(Object(B.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch(window.location.origin+"/rest/survey/"+this.props.match.params.eventName).then((function(e){return e.json()})).then((function(t){console.log("Ques data is ",t),e.setState({quesitems:t,eventName:e.props.match.params.eventName})})).catch(console.log)}},{key:"onComplete",value:function(e,t){console.log("Survey options: "+t);for(var a={eventName:this.state.eventName,qaArr:[]},n=0,o=Object.entries(e.data);n<o.length;n++){var r=Object(m.a)(o[n],2),i=r[0],l=r[1];if(console.log("key : value is ",i,":",l),"Please enter your employee id"===i)a.empId=l;else{var s={};s.question=i,s.answer=l,a.qaArr.push(s)}}console.log("Survey results to be updated: "+JSON.stringify(a));var c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};fetch(window.location.origin+"/rest/survey/"+this.state.eventName,c).then((function(e){return e.json()})).then((function(e){console.log("Survey post is successfully sent and response is received ",e)})).catch(console.log)}},{key:"render",value:function(){var e=function(e){for(var t={showProgressBar:"top",goNextPageAutomatic:!1,showNavigationButtons:!0,pages:[]},a=0;a<e.length;a++){var n=e[a].qtype;"Rating"===n?t.pages.push(Ue(e[a])):"Text"===n&&t.pages.push(Ve(e[a]))}return t.pages.push({questions:[{type:"text",name:"Please enter your employee id"}]}),console.log("Sq",t),t}(this.state.quesitems),t=new We.Model(e);return o.a.createElement("div",null,o.a.createElement(We.Survey,{model:t,onComplete:this.onComplete,onAfterRenderQuestion:this.onAfterRenderQuestion,onAfterRenderPage:this.onAfterRenderPage}))}}]),a}(o.a.Component),Je=Object(Q.g)(_e);function Ue(e){var t={questions:[]},a={isRequired:!0,colCount:1,choices:[],type:"radiogroup"};a.name=e.title;for(var n=e.rateDescription,o=0;o<n.length;o++)a.choices.push(n[o]);return t.questions.push(a),t}function Ve(e){var t={questions:[]},a={isRequired:!0,type:"text"};return a.name=e.title,t.questions.push(a),t}var $e=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={eventitems:[]},n.addEventsOnCreate=n.addEventsOnCreate.bind(Object(B.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch(window.location.origin+"/rest/events").then((function(e){return e.json()})).then((function(t){console.log("Event data is ",t),e.setState({eventitems:t})})).catch(console.log)}},{key:"addEventsOnCreate",value:function(e){var t=this;console.log("Going to update Events ",e);var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch(window.location.origin+"/rest/events",a).then((function(e){return e.json()})).then((function(e){console.log("Post is successfully sent and response is received ",e);var a=t.state.eventitems;a.push(e),t.setState({eventitems:a})})).catch(console.log)}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(He,{eventItems:this.state.eventitems,onAdd:this.addEventsOnCreate}))}}]),a}(o.a.Component),Ze=Object(I.a)({overrides:{MuiPaper:{elevation2:{boxShadow:"none"}}}});function Ye(e){var t=e.propitems,a=(e.match,e.onAdd,e.onChange),n=o.a.useState({columns:[{title:"Team Name",field:"teamName",render:function(e){return o.a.createElement(x.b,{to:"/trains/".concat(l.trainName,"/").concat(e.teamName)},e.teamName)}},{title:"Team Description",field:"teamDesc"},{title:"Team Owner",field:"teamOwner"}]}),r=Object(m.a)(n,2),i=r[0],l=(r[1],Object(Q.f)());console.log("Train name used in param is ",l);var s=function(){var e={};for(var a in t)t[a].trainName===l.trainName&&(e=t[a]);return console.log("Team data is ",e),e}(),c=function(){var e=[];return e.push({name:l.trainName,iconval:K.a,linkTo:"/trains"}),e}();return o.a.createElement("div",null,o.a.createElement(Z,{bcprops:c}),o.a.createElement(A.a,{theme:Ze},o.a.createElement(F.a,{columns:i.columns,data:s.teams,editable:{onRowAdd:function(e){return new Promise((function(t){setTimeout((function(){t(),s.teams.push(e),a(s,{teams:s.teams})}),600)}))},onRowUpdate:function(e){console.log(e)},onRowDelete:function(e){console.log(e)}},options:{exportButton:!0,showTitle:!1,paging:!1}})))}var Ke=a(396),Xe=a.n(Ke),et=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={series:[{name:"Series 1",data:[80,50,30,40,100]},{name:"Series 2",data:[20,30,40,80,20]},{name:"Series 3",data:[44,76,78,13,43]}],options:{chart:{height:350,type:"radar",dropShadow:{enabled:!0,blur:1,left:1,top:1}},title:{text:"Radar Chart - Multi Series"},stroke:{width:2},fill:{opacity:.1},markers:{size:0},xaxis:{categories:["2011","2012","2013","2014","2015"]}}},n}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{id:"chart"},o.a.createElement(Xe.a,{options:this.state.options,series:this.state.series,type:"radar",height:350}))}}]),a}(o.a.Component);a(513);function tt(){var e=o.a.useState({firstName:null,lastName:null,email:null,password:null,formErrors:{firstName:"",lastName:"",email:"",password:""}}),t=Object(m.a)(e,2),a=t[0],n=t[1],r=RegExp(/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/),i=function(e){console.log("Handle change - loginState ",a),e.preventDefault();var t=e.target,o=t.name,i=t.value,l=a;switch(o){case"firstName":l.formErrors.firstName=i.length<3?"minimum 3 characaters required":"";break;case"lastName":l.formErrors.lastName=i.length<3?"minimum 3 characaters required":"";break;case"email":l.formErrors.email=r.test(i)?"":"invalid email address";break;case"password":l.formErrors.password=i.length<6?"minimum 6 characaters required":""}l[o]=i,n(l)},l=function(){var e=!0;console.log("Validate login state  ",a);var t=a.formErrors,n=Object(ne.a)(a,["formErrors"]);return console.log("formErrors  ",t),console.log("rest  ",n),Object.values(t).forEach((function(t){t.length>0&&(e=!1)})),Object.values(n).forEach((function(t){null===t&&(e=!1)})),e},s=function(e,t,n){return o.a.createElement("div",{className:e},o.a.createElement("label",{htmlFor:e},t),o.a.createElement("input",{className:a.formErrors[e].length>0?"error":null,placeholder:t,type:n,name:e,noValidate:!0,onChange:i}),a.formErrors[e].length>0&&o.a.createElement("span",{className:"errorMessage"},a.formErrors[e]))};return o.a.createElement("div",{className:"wrapper"},o.a.createElement("div",{className:"form-wrapper"},o.a.createElement("h1",null,"Login"),o.a.createElement("form",{onSubmit:function(e){console.log("Event is  ",e),l()?console.log("login state is valid ",a):console.error("FORM INVALID - DISPLAY ERROR MESSAGE")},noValidate:!0},s("firstName","First Name","text"),s("lastName","Last Name","text"),s("email","Email","email"),s("password","Password","password"),o.a.createElement("div",{className:"login"},o.a.createElement("button",{className:"loginbutton",type:"submit"},"Login")),o.a.createElement("div",{className:"register"},o.a.createElement("button",{className:"regbutton",type:"register"},"Register")))))}var at=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={trainitems:[],associates:[]},n.updateTrainStateOnChange=n.updateTrainStateOnChange.bind(Object(B.a)(n)),n.addTrainStateOnChange=n.addTrainStateOnChange.bind(Object(B.a)(n)),n.transformModelToUI=n.transformModelToUI.bind(Object(B.a)(n)),n}return Object(s.a)(a,[{key:"updateTrainStateOnChange",value:function(e,t){var a=this;console.log("Going to update new train ",e),console.log("Changed train data",t);var n={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};console.log("Train id is ",e._id);var o=window.location.origin+"/rest/trains/"+e._id;fetch(o,n).then((function(e){return e.json()})).then((function(t){console.log("Patch is successfully sent and response is received ",t);var n=a.state.trainitems;for(var o in a.state.trainitems)a.state.trainitems[o]._id===e._id&&(a.state.trainitems[o]=e);a.setState({trainitems:n})})).catch(console.log)}},{key:"addTrainStateOnChange",value:function(e){var t=this;console.log("Going to update new train ",e);var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch(window.location.origin+"/rest/trains",a).then((function(e){return e.json()})).then((function(e){console.log("Post is successfully sent and response is received ",e);var a=t.state.trainitems;a.push(e),t.setState({trainitems:a})})).catch(console.log)}},{key:"componentDidMount",value:function(){var e=this;fetch(window.location.origin+"/rest/trains").then((function(e){return e.json()})).then((function(t){e.setState({trainitems:t})})).catch(console.log)}},{key:"transformModelToUI",value:function(){var e=[],t=this.state.trainitems;for(var a in t){var n={};for(var o in n.id=t[a]._id,n.name=t[a].trainName,n.desc=t[a].trainDesc,n.owner=t[a].trainOwner,e.push(n),t[a].teams){var r={};r.id=t[a].teams[o]._id,r.name=t[a].teams[o].teamName,r.desc=t[a].teams[o].teamDesc,r.owner=t[a].teams[o].teamOwner,r.parent_id=n.id,r.parentName=n.name,e.push(r)}}return e}},{key:"render",value:function(){var e=this,t=this.transformModelToUI();return console.log("ttrows",t),o.a.createElement("div",{className:"maincontent"},o.a.createElement(Q.c,null,o.a.createElement(Q.a,{path:"/trains/:trainName/:teamName",component:function(e){return o.a.createElement(ae,null)}}),o.a.createElement(Q.a,{path:"/trains/:trainName",component:function(t){return o.a.createElement(Ye,{propitems:e.state.trainitems,onAdd:e.addTrainStateOnChange,onChange:e.updateTrainStateOnChange})}}),o.a.createElement(Q.a,{path:"/trains",component:function(a){return o.a.createElement(z,{propitems:t,onAdd:e.addTrainStateOnChange,onChange:e.updateTrainStateOnChange})}}),o.a.createElement(Q.a,{path:"/questions",component:function(e){return o.a.createElement(Re,null)}}),o.a.createElement(Q.a,{path:"/survey/:eventName",component:function(e){return o.a.createElement(Je,null)}}),o.a.createElement(Q.a,{path:"/survey",component:function(e){return o.a.createElement($e,null)}}),o.a.createElement(Q.a,{path:"/spidergraph",component:function(e){return o.a.createElement(et,null)}}),o.a.createElement(Q.a,{exact:!0,path:"/",component:function(a){return o.a.createElement(z,{propitems:t,onAdd:e.addTrainStateOnChange,onChange:e.updateTrainStateOnChange})}}),o.a.createElement(Q.a,{path:"/login",component:function(e){return o.a.createElement(tt,null)}})))}}]),a}(o.a.Component),nt=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"adminmain"},o.a.createElement("div",{className:"toolbar"},o.a.createElement(D,null)),o.a.createElement(at,null))}}]),a}(o.a.Component);a(514);var ot=function(){return o.a.createElement(nt,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(x.a,null,o.a.createElement(ot,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[405,1,2]]]);
//# sourceMappingURL=main.2d324d70.chunk.js.map